{% extends 'base.html' %}
{% block title %}{{ 'New Post' if mode == 'create' else 'Edit Post' }}{% endblock %}
{% block content %}
<h2>{{ 'New Post' if mode == 'create' else 'Edit Post' }}</h2>
<form method="post">
    <label for="title">Title</label>
    <input type="text" id="title" name="title" value="{{ (post.title if post else '') | e }}" required />

    <label for="author">Author</label>
    <input type="text" id="author" name="author" value="{{ (post.author if post else '') | e }}"
        placeholder="Anonymous" />

    <label for="content">Content</label>
    <textarea id="content" name="content" required>{{ (post.content if post else '') | e }}</textarea>

    <div class="row" style="margin-top: 10px;">
        <button class="btn primary" type="submit">{{ 'Create' if mode == 'create' else 'Save Changes' }}</button>
        <a class="btn" href="{{ url_for('index') }}">Cancel</a>
    </div>
</form>
{% endblock %}