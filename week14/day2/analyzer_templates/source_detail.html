{% extends 'base.html' %}
{% block title %}Source {{ source.id }} Â· Data Analyzer{% endblock %}
{% block content %}
<h1 class="mb-3">Source: {{ source.name }} <span class="badge text-bg-secondary">{{ source.kind }}</span></h1>
<p class="text-muted">Created {{ source.created_at }}</p>
<h5>Stats</h5>
{% if stats %}
<div class="row g-3 mb-3">
    {% for col, st in stats.items() %}
    <div class="col-6 col-md-4 col-lg-3">
        <div class="stat-box">
            <div class="fw-semibold">{{ col }}</div>
            <div class="small">n={{ st.count }}</div>
            <div class="small">min {{ st.min }}</div>
            <div class="small">max {{ st.max }}</div>
            <div class="small">mean {{ '%.2f'|format(st.mean) }}</div>
            <div class="small">median {{ st.median }}</div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p class="text-muted">No numeric stats.</p>
{% endif %}
<h5>Sample Rows ({{ rows|length }})</h5>
<pre class="code-block">{% for r in rows %}{{ r | tojson }}
{% endfor %}</pre>
<a class="btn btn-outline-secondary" href="/">Back</a>
{% endblock %}